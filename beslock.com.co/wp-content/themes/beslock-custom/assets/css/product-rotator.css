/* product-rotator.css
   Absolute stacked cross-fade rotator for front-page product cards.

   Implementation notes:
   - Container has fixed height (240px) to prevent reflow when images are absolute.
   - Only opacity is animated (0.6s). No transforms, no scaling, no hover.
   - Images use absolute stacking with object-fit: contain to preserve composition.
*/

.product-card__image-rotator,
.product-image-rotator { /* keep legacy selector as fallback */
  display: block;
  width: 100%;
  height: 240px;
  overflow: hidden;
  position: relative;
}

.product-card__frame,
.product-frame { /* legacy fallback */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  opacity: 0;
  transition: opacity .6s ease-in-out;
}

.product-card__frame--active,
.product-image-rotator .product-frame.visible,
.product-image-rotator .product-frame.is-active {
  opacity: 1;
}

/* Defensive: ensure images never exceed container width */
.product-card__image-rotator img,
.product-image-rotator img { max-width: 100%; height: 100%; display: block; }

/* Layout fix: prevent ancestor flex-centering from collapsing rotator width
   Scoped to the products portfolio so global card layout remains unchanged. */
.products-portfolio__grid .product-card {
  align-items: stretch;
}
.products-portfolio .product-card__image {
  width: 100%;
}
.products-portfolio .product-card__image-rotator {
  width: 100%;
  min-width: 220px; /* conservative fallback to ensure visible frames */
}

/* Ensure card content uses full width and buttons align to same baseline */
.products-portfolio__grid .product-card {
  align-items: stretch; /* override centered alignment so content can fill width */
}
.products-portfolio .product-card__content {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
}
.products-portfolio .product-card__btn {
  margin-top: auto; /* push button to bottom of the content block */
  align-self: center; /* keep button centered horizontally */
}

