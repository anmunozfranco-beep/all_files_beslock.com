/* Minimal resets for WooCommerce pages to prevent child theme from globally overriding parent/WC styles.
   Loaded only on WooCommerce-related pages.
   Intentionally conservative: only targets broad, commonly conflicting selectors used by the child theme.
*/

/* Reset base visual tokens so parent/woocommerce styles can apply cleanly */
body.woocommerce, body.woocommerce-page {
  background: unset !important;
  color: unset !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif !important;
  line-height: unset !important;
}

/* Neutralize child button utilities so WooCommerce buttons keep their own styles */
body.woocommerce .btn,
body.woocommerce .beslock-btn,
body.woocommerce .discover__btn,
body.woocommerce .hero__cta,
body.woocommerce-page .btn,
body.woocommerce-page .beslock-btn,
body.woocommerce-page .discover__btn,
body.woocommerce-page .hero__cta {
  all: unset !important;
  display: revert !important;
}

/* Make sure links within WC pages get their inherited/parent styles */
body.woocommerce a,
body.woocommerce-page a {
  color: unset !important;
  text-decoration: unset !important;
}

/* Inputs/forms: avoid child overrides that alter sizing/appearance */
body.woocommerce input,
body.woocommerce select,
body.woocommerce textarea,
body.woocommerce-page input,
body.woocommerce-page select,
body.woocommerce-page textarea {
  all: revert !important;
}

/* Ensure WooCommerce notices, drawer and mobile menu text use the site font stack */
body.woocommerce .woocommerce-message,
body.woocommerce .cart-empty,
body.woocommerce .widget,
body.woocommerce .site-header,
body.woocommerce .mobile-menu,
body.woocommerce .mobile-menu__item,
body.woocommerce .mobile-menu__badge,
body.woocommerce .header__cart,
body.woocommerce .site-footer,
body.woocommerce .woocommerce a,
body.woocommerce .u-container,
body.woocommerce .entry-title,
body.woocommerce .page-title {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif !important;
}

/* Container spacing: let parent control page/container sizing on WC pages */
body.woocommerce .u-container,
body.woocommerce-page .u-container {
  max-width: revert !important;
  padding: revert !important;
  margin: revert !important;
}

/* If specific child components remain invasive, they can be selectively neutralized here. */

/* Additional header/logo and mobile menu fixes for product archives */
body.post-type-archive-product .site-header,
body.tax-product_cat .site-header,
body.tax-product_tag .site-header {
  align-items: center !important;
}

body.post-type-archive-product .site-logo img,
body.tax-product_cat .site-logo img,
body.tax-product_tag .site-logo img {
  max-height: 60px !important;
  width: auto !important;
  height: auto !important;
}

@media (min-width: 600px) {
  body.post-type-archive-product .site-header .site-logo,
  body.tax-product_cat .site-header .site-logo,
  body.tax-product_tag .site-header .site-logo {
    max-width: 220px !important;
  }
}

body.post-type-archive-product .site-header .site-branding,
body.tax-product_cat .site-header .site-branding,
body.tax-product_tag .site-header .site-branding {
  flex: 0 0 auto !important;
}

/* Normalize header layout on WooCommerce pages: keep left/right controls flush and logo centered */
body.woocommerce .header__bar,
body.woocommerce-cart .header__bar,
body.post-type-archive-product .header__bar,
body.tax-product_cat .header__bar,
body.tax-product_tag .header__bar {
  position: relative !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 12px !important;
}

/* Center logo visually without pushing left/right controls */
body.woocommerce .header__logo {
  position: absolute !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  pointer-events: none;
  z-index: 5;
}

/* Keep controls above the centered logo and clickable */
body.woocommerce .header__menu-toggle,
body.woocommerce .header__cart,
body.woocommerce .mobile-header .menu-toggle,
body.woocommerce .mobile-header .mobile-back {
  position: relative !important;
  z-index: 10 !important;
  pointer-events: auto !important;
}

@media (max-width: 599px) {
  body.post-type-archive-product .mobile-header .mobile-back,
  body.tax-product_cat .mobile-header .mobile-back,
  body.tax-product_tag .mobile-header .mobile-back,
  body.post-type-archive-product .mobile-header .menu-toggle,
  body.tax-product_cat .mobile-header .menu-toggle,
  body.tax-product_tag .mobile-header .menu-toggle {
    display: inline-block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
}

/* Badge for mobile drawer 'Tienda de productos' */
.mobile-menu__badge {
  display: inline-block;
  background: #e63946;
  color: #fff;
  font-size: 12px;
  line-height: 1;
  padding: 2px 6px;
  border-radius: 999px;
  margin-left: 8px;
  vertical-align: middle;
}

.header__cart-count {
  display: inline-block;
  background: #e63946;
  color: #fff;
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 999px;
  margin-left: 6px;
  vertical-align: middle;
}

/* Force header logo size parity on WooCommerce pages (shop, cart, product archives) */
body.woocommerce .header__logo img,
body.woocommerce-cart .header__logo img,
body.post-type-archive-product .header__logo img,
body.tax-product_cat .header__logo img,
body.tax-product_tag .header__logo img {
  --site-logo-height: 32px !important;
  height: var(--site-logo-height) !important;
  max-height: 60px !important;
  width: auto !important;
}

@media (min-width: 600px) {
  body.woocommerce .header__logo img,
  body.woocommerce-cart .header__logo img,
  body.post-type-archive-product .header__logo img,
  body.tax-product_cat .header__logo img,
  body.tax-product_tag .header__logo img {
    --site-logo-height: 38px !important;
    height: var(--site-logo-height) !important;
  }
}

/* ===================================================================
   FULL HEADER ISOLATION â€” Lock header vertical system and typography
   Targets only the child theme header root `.header` and its immediate
   descendants so Kadence / WooCommerce global rules cannot alter
   vertical geometry or rhythm. This block intentionally uses
   `!important` for layout/spacing properties only to guarantee
   pixel parity with the front page.
   =================================================================== */

/* Header root: reset inherited typography and layout values that affect
   vertical geometry. Keep typography family matching the site but lock
   font-size and line-height so `em`/`rem` interplay is stable. */
.header {
  /* Use the child theme primary font family and lock base size */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif !important;
  font-size: 16px !important; /* matches document root used on front page */
  line-height: 1 !important; /* avoid inherited tall line-height from parent/Woo */
  color: inherit !important;
  background: inherit !important;
  box-sizing: border-box !important;
  /* Prevent external padding/margins from cascading in */
  padding: 0 !important;
  margin: 0 !important;
  min-height: 0 !important;
  -webkit-font-smoothing: antialiased !important;
}

/* Ensure all header descendants inherit the header's locked metrics */
.header, .header * {
  box-sizing: border-box !important;
  font-family: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
}

/* Explicitly restore the header bar layout used on the front page */
.header .u-container.header__bar,
.header__bar {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  position: relative !important;
  gap: 0.5rem !important; /* preserve spacing from main.css */
  padding: 0.4rem 0 !important; /* mobile baseline */
}

/* Desktop breakpoint: match front page metrics */
@media (min-width: 600px) {
  .header .u-container.header__bar,
  .header__bar {
    padding: 0.7rem 0 !important; /* desktop baseline */
    gap: 0.5rem !important;
  }
}

/* Lock the centered absolute logo geometry exactly as on the front page */
.header .header__logo,
.header__logo {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
  z-index: 5 !important;
  display: flex !important;
  align-items: center !important;
  /* Allow the logo anchor to be clickable while icons remain above it */
  pointer-events: auto !important;
}

/* Define and lock the site-logo size variable used by theme */
.header {
  --site-logo-height: 32px !important;
}
.header .header__logo img,
.header__logo img {
  height: var(--site-logo-height) !important;
  max-height: none !important;
  width: auto !important;
  display: block !important;
}
@media (min-width: 600px) {
  .header { --site-logo-height: 38px !important; }
  .header .header__logo img, .header__logo img { height: var(--site-logo-height) !important; }
}

/* Ensure control icons keep their measured size and alignment */
.header .header__icon,
.header__icon {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 40px !important;
  min-height: 40px !important;
  font-size: 2rem !important;
  pointer-events: auto !important;
  z-index: 10 !important;
}
@media (min-width: 600px) {
  .header .header__icon, .header__icon { font-size: 2.25rem !important; min-width: 44px !important; min-height: 44px !important; }
}

/* Force icon color to match front-page theme color */
.header .header__icon,
.header__icon {
  color: var(--beslock-green) !important;
}
.header .header__icon i,
.header__icon i {
  color: inherit !important;
}

/* Ensure the logo anchor is clickable and shows pointer */
.header a.header__logo,
.header__logo {
  cursor: pointer !important;
}

/* Prevent Kadence / Woo rules from changing align-items or min-height */
.header, .header .u-container, .header .u-container.header__bar { align-items: center !important; min-height: 0 !important; }

/* Make interactive controls clickable above the centered logo */
.header .header__menu-toggle,
.header .header__cart,
.header__menu-toggle,
.header__cart {
  position: relative !important;
  z-index: 11 !important;
  pointer-events: auto !important;
}

/* Remove unexpected inherited padding on common header child wrappers */
.header .site-branding, .header .site-title, .header .site-logo, .header .logo { padding: 0 !important; margin: 0 !important; }

/* Accessibility: keep visuals the same but not break keyboard focus */
.header a, .header button { line-height: 1 !important; }

/* End isolation block */

/* ===================================================================
   Fixes for header background and container width parity
   Ensure header uses the same container sizing as `main.css` so icons
   keep the exact horizontal positions as on the front page.
   =================================================================== */

/* Force header background to the child theme value (prevents inheritance
   from parent/Kadence that could leave it transparent). */
.header {
  background: var(--beslock-bg-2) !important;
}

/* Lock the `.u-container` used inside the header to the child theme
   container metrics (mobile, tablet, desktop) so the left/right controls
   appear at the same horizontal positions as on the front page. */
.header .u-container,
.header > .u-container,
.header .u-container.header__bar {
  max-width: 540px !important;
  padding-left: 1.25rem !important;
  padding-right: 1.25rem !important;
  margin-left: auto !important;
  margin-right: auto !important;
  width: 100% !important;
}

@media (min-width: 768px) {
  .header .u-container,
  .header > .u-container,
  .header .u-container.header__bar {
    max-width: 860px !important;
    padding-left: 2rem !important;
    padding-right: 2rem !important;
  }
}

@media (min-width: 1200px) {
  .header .u-container,
  .header > .u-container,
  .header .u-container.header__bar {
    max-width: 1180px !important;
    padding-left: 2.5rem !important;
    padding-right: 2.5rem !important;
  }
}


/* Make WooCommerce page titles match the frontpage hero styles */
body.woocommerce .product-archive-title h1,
body.woocommerce .page-title,
body.woocommerce .entry-title,
body.woocommerce h1,
body.woocommerce-page .page-title {
  font-size: 2rem !important;
  font-weight: 700 !important;
  color: var(--beslock-green) !important;
  line-height: 1.03 !important;
  margin-bottom: 0.7rem !important;
}

@media (min-width: 600px) {
  body.woocommerce .product-archive-title h1,
  body.woocommerce .page-title,
  body.woocommerce .entry-title,
  body.woocommerce h1,
  body.woocommerce-page .page-title {
    font-size: 4rem !important;
  }
}

/* Desktop (>=600px): ensure header uses the global layout (absolute centered logo + space-between) */
@media (min-width: 600px) {
  body.woocommerce .header__bar,
  body.woocommerce-cart .header__bar,
  body.post-type-archive-product .header__bar,
  body.tax-product_cat .header__bar,
  body.tax-product_tag .header__bar {
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 0.5rem !important;
  }

  /* Align logo to the absolute-centered pattern defined in main.css */
  body.woocommerce .header__logo {
    position: absolute !important;
    left: 50% !important;
    top: 50% !important;
    transform: translate(-50%, -50%) !important;
    pointer-events: none;
    z-index: 5 !important;
  }

  /* Ensure logo sizing follows the site variable */
  body.woocommerce .header__logo img {
    height: var(--site-logo-height, 38px) !important;
    width: auto !important;
  }
}
